webpackJsonp([1],{"/VV0":function(e,t,n){t=e.exports=n("lcwS")(void 0),t.push([e.i,"*{ margin:0px; padding:0px; }\nheader{ width:100%; height:44px; background: #f70; text-align: center; line-height: 44px; color: #fff; font-weight: bold  }\n.body{ padding:10px;}\n.body p{ line-height: 1.5em}\n.submit{ height:44px; width:100%; border-radius: 3px; background: #f70; margin-top: 30px; line-height: 44px; text-align: center; color: #fff; font-weight: bold }\n\n\n.updateBox{ width:100%; border: 1px solid #333; overflow: hidden; height:180px; display:flex;  align-items: center; justify-content: center }\n\n.bg{ visibility:hidden; opacity:0; transition: 0.5s;  position: fixed; left: 0px; right: 0px; bottom:0px; top:0px; display: flex; align-items: center; justify-content: center  }\n.bg div{ width:200px; height:65px; display: flex; align-items: center; justify-content: center; background-color: #fff; border-radius:8px; background-color:rgba(0,0,0,0.7); color:#fff;  }\n\n.show{ visibility: initial;  opacity:1;}\n\n",""])},C8Yn:function(e,t,n){"use strict";function i(e){return{type:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.changeName=i},Oqez:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("gp7H")},SZiR:function(e,t,n){var i=n("/VV0");"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!0};a.transform=void 0;n("BMrJ")(i,a);i.locals&&(e.exports=i.locals)},TX0z:function(e,t,n){"use strict";function i(e){return{name:e.demo.languageName}}function a(e){return{changeName:function(){return e(s.changeName("name"))}}}function r(e,t,n){return Object.assign({},n,e,t)}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n("C8Yn"),c=n("1n8/"),l=n("jYI/");n("SZiR"),t.mapStateToProps=i,t.mapDispatchToProps=a;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={multiple:!1,imageUp:"",message:"",filedata:[]},n}return o(t,e),t.prototype.submit=function(){var e=this.upload(this.state.filedata[0]),t=this;e.then(function(e){200==JSON.parse(e).status&&(document.getElementById("message").className="bg show",t.setState({message:"上传成功"}),setTimeout(function(){document.getElementById("message").className="bg ",t.setState({imageUp:"",filedata:[]})},1500))})},t.prototype.upload=function(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.upload&&(i.onreadystatechange=function(e){4===i.readyState&&200===i.status&&t(i.responseText)}),i.open("POST","/identity/upload",!0);var a=new FormData;a.append("filedata",e),i.send(a)})},t.prototype.clickupdate=function(){document.getElementById("picture").click()},t.prototype.updateFun=function(e){var t=e.target.files,n=this;if(t.length>0){for(var i=this.state.multiple?t.length:1,a=0;a<i;a++)t[a].thumb=URL.createObjectURL(t[a]);t=Array.prototype.slice.call(t,0),t=t.filter(function(e){return/image/i.test(e.type)}),t[0].size>2e6&&(document.getElementById("message").className="bg show",n.setState({message:"请传入不大于2MB的图片"}),setTimeout(function(){document.getElementById("message").className="bg ",n.setState({imageUp:"",filedata:[]})},1500)),t.length>0&&this.setState({imageUp:t[0].thumb,filedata:t})}},t.prototype.render=function(){var e=this;return c.createElement("article",null,c.createElement("header",{id:"app"},"上传身份认证信息"),c.createElement("article",{className:"body"},c.createElement("div",{onClick:this.clickupdate.bind(this),className:"updateBox"},""==this.state.imageUp?c.createElement("div",null,"+ 点击上传"):c.createElement("div",null,c.createElement("img",{width:"100%",src:this.state.imageUp})),c.createElement("input",{name:"filename",id:"picture",onChange:function(t){return e.updateFun(t)},type:"file",multiple:this.state.multiple,style:{display:"none"}})),""==this.state.imageUp?c.createElement("div",{style:{backgroundColor:"#999"},className:"submit"},"确定上传"):c.createElement("div",{onClick:this.submit.bind(this),className:"submit"},"确定上传")),c.createElement("div",{className:"bg",id:"message"},c.createElement("div",null,this.state.message)))},t}(c.Component);t.default=l.connect(i,a,r)(u)},gp7H:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("1n8/"),a=n("NKHc"),r=n("jYI/"),o=n("TX0z"),s=n("lxiX"),c=s.default();a.render(i.createElement(r.Provider,{store:c},i.createElement(o.default,{name:"123"})),document.getElementById("app"))},imCj:function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n("vE+p");t.demoReduces=function(e,t){switch(void 0===e&&(e=a.default.demo),t.type){case"changeName":return i({},e)}return e}},lxiX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("fpuT"),a=n("imCj"),r=n("vE+p"),o=i.combineReducers({demo:a.demoReduces});t.default=function(){return i.createStore(o,r.default)}},"vE+p":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={demo:{languageName:"typescript"}}}},["Oqez"]);
//# sourceMappingURL=app.796599a7b80664d2cabf.js.map